<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title><%= title %></title>
  <link rel="stylesheet" type="text/css" href="/css/index.css" />
  <link rel="stylesheet" type="text/css" href="/css/flex.css" />
</head>
<body>
  <%- include('header') %>
  
  <div id="Hauptinhalt">
    <main>

      <form
          action="http://edu.inf.fhdortmund.de/podcastService/testPodcastSearch.php"
          method="get"
        >
          <label for="suche">Suche hier starten: </label>
          <input
            type="search"
            name="Suche Abbonierte Podcasts"
            id="suche"
            pattern="[A-Z]+[A-Z,0-9, ,ca-z]*"
            size="50"
            maxlength="100"
            placeholder="Titel eingaben ..."
            required
          />
          <button type="submit">Finden</button>
        </form>

     

      <section>
        <h2>Abonnierte Podcasts</h2>
        <button id="listenansicht">Kachelansicht</button>
        <article>
          <!-- KACHELANSICHT (standardmäßig sichtbar) -->
          <ul id="abos-kachel" class="kachel-ansicht">
            <% podcasts.forEach((podcast, index) => { %>
              <li>
                <a href="/podcast?pc=<%= index %>">
                  <img src="<%= podcast.bildUrl %>" alt="<%= podcast.titel %>" height="300" width="300"/>
                  <span><%= podcast.autor %></span>
                </a>
              </li>
            <% }) %>
          </ul>

          <!-- LISTENANSICHT (standardmäßig versteckt) -->
          <ul id="abos-liste" class="listen-ansicht" style="display: none;">
            <% podcasts.forEach((podcast, index) => { %>
              <li>
                <a href="/podcast?pc=<%= index %>"><%= podcast.autor %></a>
              </li>
            <% }) %>
          </ul>
        </article>
      </section>

    </main>
    
    <%- include('ankuendigungen') %>
  </div>
   <section>
        <h2>Neuen Podcast abonnieren</h2>
        <form action="/subscribe" method="post">
          <label for="feedUrl">RSS-Feed-URL: </label>
          <input
            type="url"
            name="feedUrl"
            id="feedUrl"
            size="50"
            placeholder="https://example.com/feed.rss"
            required
          />
          <button type="submit">Abonnieren</button>
        </form>
      </section>
      <section>
        <br> <!--nur damit footer den Feld nicht blocker, wenn man RSS eintragen will(in bestimmten Größen beim Testen ist das vorgekommen)-->
      </section>
  
  <%- include('footer') %>
  
  <script src="/js/script.js"></script>
  <script src="/js/index.js"></script>
</body>
</html>